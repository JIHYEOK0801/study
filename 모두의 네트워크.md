<h1>모두의 네트워크</h1>

---

contents

1. [네트워크 서론](#네트워크-서론)
2. [물리 계층](#물리-계층)
3. [데이터링크 계층](#데이터링크-계층)
4. [네트워크 계층](#네트워크-계층)
5. [전송 계층](#전송-계층)
6. [응용 계층(세션, 표현 포함)](#응용-계층)
7. [무선 랜](#무선-랜)

</br>

---

## 네트워크 서론

> ### 패킷

네트워크를 통해 전송되는 데이터의 조각

순서대로 전송되지 않아도 안에 번호가 있어서 받는 측에서 정렬시킬 수 있다

</br>

> ### LAN

건물 안이나 특정 지역을 범위로 하는 네트워크

</br>

> ### WAN

넓은 범위에 구축된 네트워크. **인터넷 서비스 제공자(ISP)**가 제공한다

LAN과 LAN을 연결한다고 생각해도 된다

</br>

> ### DMZ

회사에서 외부에 공개하기 위한 네트워크

웹사이트를 외부 사용자에게 공개하려면 **웹서버**를, 외부 사용자와 메일을 주고받으려면 **메일서버**를, 외부에서 회사의 서버에 접속하려면 **DNS서버**를 외부에 공개하면 된다

</br>

> ### 온프레미스(on-premise)

사내 또는 데이터센터에 서버를 두고 운영하는 것

</br>

> ### 프로토콜

네트워크에서 통신하기 위한 규칙

</br>

> ### OSI 모델과 TCP/IP 모델

네트워크의 기술의 기본이 되는 모델

- **OSI 7계층**

  1계층 - 물리계층 : 물리적인 연결 및 데이터의 전기신호 변환

  2계층 - 데이터링크 계층 : 네트워크 기기간의 데이터 전송 및 물리주소 결정

  3계층 - 네트워크 계층 : 다른 네트워크와 통신하기 위한 경로 설정 및 논리 주소 결정

  4계층 - 전송 계층 : 신뢰할 수 있는 통신방식 결정

  5계층 - 세션 계층 : 세션 체결, 통신 방식 결정

  6계층 - 표현 계층 : 문자 코드, 압축 ,암호화 등의 데이터 변환

  7계층 - 응용 계층 : 이메일 & 파일 전송, 웹사이트 조회 등 어플리케이션 서비스

- **TCP/IP**

  1계층 - 네트워크 접속계층 : OSI 1,2 계층

  2계층 - 인터넷 계층 : OSI 3 계층

  3계층 - 전송 계층 : OSI 4 계층

  4계층 - 응용 계층 : OSI 5,6,7 계층

</br>

> ### 캡슐화와 역캡슐화

데이터가 계층을 지날 때마다 헤더가 붙는 것을 **캡슐화**

수신측에서 이 헤더를 떼어내는 작업을 **역캡슐화**라고 한다

</br>

> ### VPN(가상 사설망)

가상 통신 터널을 만들어 기업 본사와 지사를 연결하는데 쓰인다

- 거점 간 접속

  IPsec이라는 암호 기술 프로토콜을 사용해 접속

- 원격 접속 연결

  암호화된 통신로를 생성

<br>

---

## 물리 계층

**컴퓨터와 네트워크 장비를 연결**하고 컴퓨터와 **네트워크 장비 간에 전송되는 데이터(0과 1만으로 이루어진 비트열)를 전기 신호로 변환**하는 계층

> ### 전기신호 2종류

- 아날로그 : 전화 회선, 라디오 방송 등
- 디지털 : 막대모양의 신호

> ### 랜카드

0과 1을 전기신호로 변환하는 부품

> ### 케이블의 종류

전송매체에 따른 분류

- 유선 : 트위스트 페어 케이블, 광케이블 등
- 무선 : 라디오파, 마이크로파, 적외선 등

> ### 트위스트 페어 케이블

- UTP케이블

  실드x, 저렴, 노이즈 많음

- STP케이블

  실드o, 비쌈, 노이즈 적음

트위스트 페어 케이블(UTP, STP)는 일반적으로 랜 케이블이라고 한다

> ### RJ-45

LAN포트에 끼우는 LAN선 커넥터



> ### 다이렉트 케이블, 크로스케이블

- 다이렉트 케이블

  구리선 8개를 같은 순서로 커넥터에 연결한 것, 컴퓨터와 스위치 연결시 사용한다

- 크로스 케이블 

  한쪽 커넥터의 1,2 번 구리선을 다른쪽 3,6번에 연결한 것, 컴퓨터와 컴퓨터 연결시 사용한다



> ### 리피터, 허브

- 리피터 

  전기신호를 정형하고 증폭하는 기능을 갖고 있다. 예전에 쓰인 장비. 일대일 통신만 가능하다

- 허브(더미허브)

  포트를 여러개 갖고 있어서 컴퓨터 여러대와 통신 가능하다. 컴퓨터 여러대가 데이터를 주고받을 때 사용. 원하는 목적포트 뿐아니라 모든 포트에 데이터를 보낸다

</br>

---

## 데이터링크 계층

네트워크 장비간에 신호를 주고받는 규칙을 정하는 계층, 랜에서 데이터를 정상적으로 주고 받기 위해 필요한 계층이다

규칙들중 일반적으로 가장 많이 사용되는 규칙이 **이더넷**이다(이더넷은 랜에서 적용되는 규칙!)

> ### CSMA/CD

이더넷에서 데이터 충돌을 막기위한 규칙. 효율이 좋지 않아 지금은 거의 사용하지 않는다

> ### MAC주소

48bit으로 구성(앞24bit - 제조사 번호, 뒤24bit - 일련번호). 제조할때 새겨지기 때문에 물리주소라고도 한다

> ### 이더넷 헤더

- **이더넷 헤더**

  OSI 모델 - 데이터링크계층, TCP/IP 모델 - 네트워크 계층 에서 캡슐화를 할 때 **이더넷 헤더**와 **트레일러**를 붙인다

  구성 : 목적지 MAC주소(6byte), 출발지 MAC주소(6byte), 유형(2byte) - 총 14byte

  유형은 이더넷으로 전송되는 프로토콜의 종류를 식별하는 번호가 들어간다

- **트레일러**

  FCS라고도 하며 데이터 전송 도중 오류가 발생하는지 확인하는 용도이다

<이더넷 헤더> + 데이터 + <트레일러> 가 된 데이터를 **프레임**이라고 한다

물리계층에서 이 프레임 비트열을 **전기신호**로 변환하여 네트워크를 통해 전송한다

ex) 허브에 컴퓨터 1,2,3,4,5 가 있을 때

1. 컴퓨터 1에서 컴퓨터 3에 데이터를 전송할 때

   컴퓨터 2,4,5는 목적지 MAC주소가 본인의 MAC 주소와 다르기 때문에 데이터를 파기한다

2. 컴퓨터 1과 2에서 동시에 컴퓨터 3에 데이터를 전송할 때

   데이터 충돌을 방지하기 위해 CSMA/CD방식이 사용된다

이더넷은 **충돌**이 일어나지 않는다

> ### 스위치

**데이터링크 계층**에서 동작, **레이어 2 스위치** or **스위칭 허브**라고도 불린다

- **MAC 주소 테이블**

  **포트 번호**와 해당 포트에 연결되어 있는 컴퓨터의 **MAC 주소**가 등록되는 데이터 베이스

- **MAC 주소 학습 기능**

  MAC 주소 테이블을 확인하고 출발지 MAC 주소가 등록되어 있지 않으면 MAC 주소를 포트와 함께 등록한다

- **플러딩**

  목적지 MAC주소가 MAC 주소 테이블에 없을 때 모든 포트에 데이터를 보내는 것

- **MAC 주소 필터링**

  MAC 주소를 기준으로 목적지를 선택하는 것

> ### 전이중 통신과 반이중 통신

- **전이중 통신 방식**

  데이터의 송수신을 동시에 통신하는 방식 (충돌 x)

- **반이중 통신 방식**

  회선 하나로 송신과 수신을 번갈아가면서 통신하는 방식 (충돌 발생 가능)

컴퓨터1와 컴퓨터2를 직접 랜케이블로 연결시 **전이중 통신방식**을 쓴다

컴퓨터1와 컴퓨터2를 허브로 연결시 **반이중 통신방식**을 쓴다

컴퓨터1와 컴퓨터2를 스위치로 연결시 **전이중 통신방식**을 쓴다

> ### 충돌 도메인

충돌이 발생할때 그 영향이 미치는 범위

- 허브 : 연결된 모든 컴퓨터가 충돌 도메인이다
- 스위치 : 충돌이 일어나지 않을 뿐더러 충돌 도메인의 범위도 매우 작다

충돌 도메인의 범위를 좁히는 것이 매우 중요!

> ### ARP

**목적지 컴퓨터의 IP 주소를 이용**하여 MAC 주소를 찾는 프로토콜

이더넷 프레임을 전송하기 위해서는 목적지 컴퓨터 MAC주소를 지정해야하는데,

출발지 컴퓨터가 목적지 주소를 모르면 MAC 주소를 알아내기 위해 네트워크에 브로드캐스트를 한다(**ARP 요청**)

지정된 IP 주소를 갖고있는 컴퓨터만 MAC 주소를 응답으로 보낸다(**ARP 응답**)

출발지 컴퓨터에서는 MAC 주소를 얻어서 메모리에 저장한다 (**ARP 테이블**)

**하지만**, IP 주소가 변경되면 해당 MAC 주소가 함께 변경되므로 통신이 불가하기에 일정기간이 지나면 ARP테이블을 삭제하고 다시 ARP요청을 한다

ARP 캐시 확인 명령어 : arp -a

ARP 캐시 삭제 명령어 : arp -d

> ### 이더넷 규격

| 규격 이름  | 통신 속도 |        케이블         | 케이블 최대 길이 | 표준화 연도 |
| :--------: | :-------: | :-------------------: | :--------------: | :---------: |
|  10BASE5   |  10Mbps   |      동축케이블       |       500m       |   1982년    |
|  10BASE2   |  10Mbps   |      동축케이블       |       185m       |   1988년    |
|  10BASE-T  |  10Mbps   | UTP케이블(Cat3 이상)  |       100m       |   1990년    |
| 100BASE-TX |  100Mbps  | UTP케이블(Cat5 이상)  |       100m       |   1995년    |
| 1000BASE-T | 1000Mbps  | UTP케이블(Cat5 이상)  |       100m       |   1999년    |
| 10GBASE-T  |  10Gbps   | UTP케이블(Cat6a 이상) |       100m       |   2006년    |

*ex) 10 BASE - T*

10 : 통신속도

BASE : 전송 방식

T : 케이블

뒤에 숫자는 100미터 단위의 케이블 최대 길이

</br>

---

## 네트워크 계층

데이터링크 계층의 기능만으로는 네트워크 내에서만 통신이 가능하다

네트워크간의 통신이 가능하게 하는 것이 네트워크 계층의 역할

> ### 라우터

데이터의 목적지까지 어떤 경로로 가는 것이 좋은지를 알려주는 네트워크 장비

> ### IP 주소

어떤 네트워크의 어떤 컴퓨터인지 구분할 수 있는 주소

> ### 라우팅

데이터를 어떤 경로로 보낼지 결정하는 것

**라우팅 테이블**이 존재해서 경로 정보를 등록하고 관리한다

> ### IP

TCP/IP 용어의 IP를 지칭. 

네트워크 계층에서는 캡슐화를 할 때 **IP헤더**를 붙인다

IP헤더에는

1. 버전
2. 헤더 길이
3. 서비스 유형
4. 전체 패킷 길이
5. ID(일련번호)
6. 조각 상태
7. 조각의 위치
8. TTL
9. 프로토콜
10. 헤더 체크섬
11. **출발지 IP주소 (32비트)**
12. **목적지 IP주소 (32비트)**

가 들어있다

이렇게 만들어진 데이터를 **IP패킷**이라고 한다

</br>

IP주소는 **인터넷 서비스 제공자(ISP)**에게 받을 수 있다

IP 버전에는 **IPv4(32비트)**와 **IPv6(128비트)**가 있다

**공인 IP 주소**

인터넷 서비스 제공자(ISP)가 제공한다. 인터넷에 직접 연결되는 컴퓨터나 라우터에 **공인 IP 주소** 할당

**사설 IP 주소**

회사나 가정의 랜에 있는 컴퓨터에 할당되는 IP. 랜의 네트워크 관리자 or 라우터의 DHCP 기능이 주소를 할당한다

</br>

**MAC주소**는 2진수를 16진수로 표현, **IP주소**는 2진수를 10진수로 표현!

</br>

> ### IP 주소클래스의 구조

- **네트워크 ID**

  어떤 네트워크인지를 나타내는 ID

- **호스트 ID**

  해당 네트워크의 어느 컴퓨터인지를 나타내는 ID

네트워크 ID를 크게 만들거나 호스트 ID를 작게 만들어서 네트워크 크기를 조정한다

네트워크 크기는 클래스라는 개념으로 구분한다

|  클래스  |      내용       | 클래스 이름 |       내용        |
| :------: | :-------------: | :---------: | :---------------: |
| A클래스  | 대규모 네트워크 |  D 클래스   |  멀티캐스트 주소  |
| B 클래스 |  중형 네트워크  |  E 클래스   | 연구 및 특수 용도 |
| C 클래스 | 소규모 네트워크 |             |                   |

**A클래스**

네트워크 ID - 8비트  //  호스트 ID - 24비트

1옥텟(8비트)의 범위 : 00000001 ~ 01111111 (1 ~ 127)

**B클래스**

네트워크 ID - 16비트 // 호스트 ID - 16비트

1옥텟(8비트)의 범위 : 10000000 ~ 10111111 (128 ~ 191)

**C클래스** 

네트워크 ID - 24비트 // 호스트 ID - 8비트

1옥텟(8비트)의 범위 : 11000000 ~ 11011111 (192 ~ 223)

</br>

각 클래스에서도 공인 IP주소의 범위와 사설 IP 주소의 범위가 나뉘어 진다

> ### 네트워크 주소와 브로드캐스트 주소

**네트워크 주소**나 **브로드캐스트 주소**는 자신의 IP주소로 설정하면 안된다

- **네트워크 주소**

  호스트 ID = 0 or 00000000(2)

  전체 네트워크에서 작은네트워크를 식별하는데 사용된다 (네트워크의 대표 주소라고 생각하면 된다)

- **브로드캐스트 주소**

  호스트 ID = 255 or 11111111(2)

  네트워크에 있는 컴퓨터나 장비 모두에게 한번에 데이터를 전송하는데 사용되는 IP주소

> ### 서브넷

네트워크를 분할하는 것을 **서브넷팅**, 분할된 네트워크를 **서브넷**이라고 한다

기존의 네트워크 ID, 호스트 ID 구성에서 ---> 네트워크 ID, 서브넷 ID(원래 호스트ID 인 자리를 빌림), 호스트 ID 구성으로 바뀌어진다

- **서브넷 마스크**

  IP 주소를 서브넷팅 했을 때 어디까지 네트워크 ID이고 어디부터 호스트 ID인지 판별하기 어려울 때 사용하는 값

  서브넷 마스크는 32비트 값으로 

  A클래스 - 255.0.0.0

  B클래스 - 255.255.0.0

  C클래스 - 255.255.255.0

  이된다

  </br>

  이를 **프리픽스 표기법**으로 나타낼 수 있는데

  ex) 

  ```markdown
  (네트워크 ID)11000000 10101000 00000001 (호스트 ID)00000000
  (서브넷 마스크)255 255 255 0
  ```

  에서 호스트 ID 4자리를 빌려 네트워크 ID로 만들면

  ```markdown
  (네트워크 ID)11000000 10101000 00000001 (서브넷ID)1111 (호스트 ID)0000
  (서브넷 마스크)255 255 255 240 , /28(프리픽스 표기법)
  ```

  이 된다

> ### 라우터의 구조

라우터가 있으면 네트워크를 분리할 수 있다 (스위치, 허브만으로 구성되어 있는 네트워크는 분리 불가)

- **기본게이트 웨이**

  네트워크의 출입구를 설정하기 위해 **라우터 IP주소를 설정**하는 것

  컴퓨터는 다른 네트워크로 데이터를 전송할 때 어디로 전송해야 하는지 알지 못한다

  따라서, 일단 **네트워크의 출입구(기본게이트웨이)**를 지정하고 라우터로 데이터를 전송한다

- **라우팅 테이블**

  라우터에 경로 정보가 등록되어있는 테이블

  관리자가 수동으로 등록할 수 도있고(소규모 네트워크)

  자동으로 등록할 수도 있다(대규모 네트워크)

  **라우팅 프로토콜**을 통해 라우터 간에 경로정보를 서로 교환하고 라우팅 테이블에 등록한다

</br>

---

## 전송 계층

전송계층은 **목적지에 신뢰할 수 있는 데이터를 전달**한다

물리계층, 데이터 링크 계층, 네트워크 계층 이 있으면 목적지에 데이터를 보낼 수 있다

**하지만**, 데이터가 손상되거나 유실되더라도 아무것도 해주지 않는다

전송계층은 **(1)오류 점검 기능**으로 오류가 발생하면 데이터를 재전송 하고

**(2)전송된 데이터의 목적지가 어떤 어플리케이션인지 식별하는 기능**으로 목적지를 판단한다

> ### 연결형 통신과 비연결형 통신

전송 계층의 특징은 **신뢰성/정확성**과 **효율성**으로 구분 가능하다

- **연결형 통신**

  **TCP** 프로토콜 사용

  신뢰성/정확성 우선

  신뢰할 수 있고 정확한 데이터를 전달한다

- **비연결형 통신**

  **UDP** 프로토콜 사용

  효율성 우선

  효율적으로 데이터를 전달한다

> ### TCP 구조

**연결형 통신 프로토콜**이다

<TCP헤더 구성>

1. 출발지 포트번호(16비트)
2. 목적지 포트번호(16비트)
3. 일련번호(32비트)
4. 확인 응답 번호(32비트)
5. 헤더 길이(4비트)
6. 예약 영역(6비트)
7. 코드 비트(6비트)
8. 윈도우 크기(16비트)
9. 체크섬(16비트)
10. 긴급 포인터(16비트)
11. 옵션

TCP로 전송할 때 붙이는 헤더를 **TCP헤더**라고 하고 TCP헤더가 붙은 데이터를 **세그먼트**라고 한다

TCP로 전송하기 위해서 먼저 **연결**이라는 **가상의 독점 통신로**를 확보한다

**7.코드비트**에는 연결의 제어정보가 들어가는데 연결 확립을 위해서는 **SYN(연결요청)**비트와 **ACK(확인응답)**비트가 필요하다

> ### 3-way 핸드셰이크

데이터를 보내기 전에 **패킷 요청을 세번 교환** 하는 것을 의미한다

<순서>

1. 연결 확립 요청

   컴퓨터 1에서 2로 연결 확립 요청(**SYN**)을 보낸다

2. 연결 확립 응답 + 연결 확립 요청

   컴퓨터 2는 1이 보낸 요청의 응답(**ACK**)를 보내고 동시에 데이터 전송 허가를 받기 위해 (**SYN**)을 보낸다

3. 연결 확립 응답

   컴퓨터 2의 요청을 받은 컴퓨터1은 응답(**ACK**)를 보낸다

> ### 연결 종료

연결을 종료하기 위해서도 패킷을 교환한다

<순서>

1. 컴퓨터 1에서 컴퓨터 2로 연결 종료 요청(**FIN**)을 보낸다
2. 컴퓨터 2에서 1로 연결 종료 응답(**ACK**)를 보낸다
3. 컴퓨터 2에서 1로 연결 종료 요청(**FIN**)을 보낸다
4. 컴퓨터 1에서 2로 연결 종료 응답(**ACK**)를 보낸다

> ### 일련번호와 확인응답번호

3-way 핸드셰이크가 끝나면 실제로 데이터를 교환할 때 TCP 헤더의 **일련번호**와 **확인 응답 번호**를 사용한다

- **일련번호**

  송신측에서 수신측에 이 데이터가 몇 번째인지 알려주는 역할을 한다

- **확인 응답 번호**

  몇 번째 데이터를 수신했는지 알려주는 역할을 한다

<순서>

ex) 200바이트 데이터 송신

1. 컴퓨터 1에서 2로 일련번호 : 3001, 확인 응답 번호 : 4001을 보낸다
2. 컴퓨터 2에서 1로 일련번호 : 4001 , 확인 응답 번호 : 3201을 보낸다
3. 컴퓨터 1에서 2로 일련번호 : 3201, 확인 응답번호 : 4001을 보낸다
4. 컴퓨터 2에서 1로 일련번호 : 4001, 확인 응답번호 3401을 보낸다

**일련번호**와 **확인응답번호**를 사용해서 데이터가 손상되거나 유실되면 데이터를 재전송 한다(**재전송 제어**)

> ### 윈도우크기

- 버퍼

  **세그먼트**를 연속해서 보내고 난 다음 확인 응답을 하기 위해 세그먼트를 일시적으로 보관하는 장소

**오버플로우** : 세그먼트를 대량으로 받아서 처리하지 못하는 경우

오버플로우가 발생하지 않기 위해 **버퍼의 한계 크기**를 알고 있어야 한다

이 값이 **윈도우 크기값**에 해당한다

윈도우 크기의 초기값은 3-way 핸드셰이크를 할 때 판단한다

버퍼를 사용하게 되면 **송신 - 응답 - 송신 -응답** 순이 아닌

**송신 - 송신 - 송신 - 응답 - 응답 - 응답**순을 반복할 수 있다

> ### 포트번호의 구조

**포트번호**는 목적지가 어떤 어플리케이션인지 구분하기 위해 사용한다

TCP 헤더의 **출발지 포트 번호**와 **목적지 포트번호**가 필요하다

**0 ~ 1023번** 포트는 **잘 알려진 포트(weel-known ports)**로 주요 프로토콜, 서버측 어플리케이션에서 사용하도록 예약되어 있다

**1024번**은 예약되어 있지만 사용되지는 않는 포트

**1025번** 이상은 랜덤 포트이고 클라이언트 측의 송신 포트로 사용된다

**<주로 사용되는 어플리케이션 번호>**

| 애플리케이션 | 포트 번호 |
| :----------: | :-------: |
|     SSH      |    22     |
|     SMTP     |    25     |
|     DNS      |    53     |
|     HTTP     |    80     |
|     POP3     |    110    |
|    HTTPS     |    443    |

> ### UDP의 구조

**비연결형 통신**이기 때문에 **효율성**을 중요시하고 TCP처럼 확인작업을 하지 않는다

<UDP 헤더 구성>

1. 출발지 포트 번호(16비트)
2. 목적지 포트 번호(16비트)
3. 길이(16비트)
4. 체크섬(16비트)

UDP를 사용하면 랜에 있는 컴퓨터나 네트워크 장비에 데이터를 일괄적으로 보낼 수 있다(**브로드캐스트**)

</br>

---

## 응용 계층

응용 계층에서는 **클라이언트**의 요청을 전달하기 위해 **통신 대상(서버)**이 **이해할 수 있는 메시지(데이터)**로 변환하고 전송계층으로 전달하는 역할을 한다

- **클라이언트**

  서비스를 요청하는 측

- **서버**

  서비스를 제공하는 측

또한, 클라이언트 측 어플리케이션과 서버 측 어플리케이션이 통신하기 위해 응용 계층의 **프로토콜**이 필요하다

<응용 계층의 대표 프로토콜>

| 프로토콜 |      내용      |
| :------: | :------------: |
|   HTTP   | 웹 사이트 접속 |
|   DNS    |   이름 해석    |
|   FTP    |   파일 전송    |
|   SMTP   |   메일 송신    |
|   POP3   |   메일 수신    |



> ### 웹 서버의 구조

- **WWW** 

  W3 or Web이라고 불린다

  **HTML**, **URL**, **HTTP**라는 세가지 기술이 사용된다

- **HTML**

  웹 페이지에서 문장 구조나 문자를 꾸미는 **태그**를 사용하여 작성하는 **마크업 언어**

- **HTTP**

  클라이언트는 웹서버를 보기 위해 서버의 80번포트를 사용

  클라이언트에서 **HTTP 요청**(GET 요청), 서버에서 **HTTP 응답**(OK 응답)을 한다

  현재 사용하는 **HTTP/2버전**은 요청을 보낸 순대로 응답하지 않아도 되서 콘텐츠를 빠르게 표시 가능

  > ### DNS 서버의 구조

  - **DNS**

    URL을 IP 주소로 변환하는 서비스(이름해석)

    ex) *http://www.gilbut.co.kr 접속 -> DNS서버가 이 웹 사이트 서버의 IP 주소를 알려준다*

    URL을 **도메인 이름**이라고 하고 앞의 www는 **호스트이름**이라고 한다

    <순서>

    1. 웹 브라우저에 URL 입력하여 접속
    2. DNS서버에서 해당 URL의 IP주소를 반환
    3. 해당 IP주소 접속

    첫번째 DNS서버가 도메인의 IP주소를 모르는 경우

    1. 웹 브라우저에 URL 입력하여 접속
    2. DNS서버1에서 DNS서버2에 해당 URL 요청
    3. DNS서버2에서 DNS서버1로 IP주소 반환
    4. DNS서버1 에서 IP주소 반환
    5. 해당 IP주소 접속

> ### 메일 서버의 구조

- **SMTP**

  포트 번호 : 25

  메일 서버간의 메일 전송에도 이용된다

- **POP3**

  포트 번호 : 110

<순서>

1. SMTP를 사용하여 컴퓨터 1에서 메일 서버 1로 메일을 보낸다
2. SMTP를 사용하여 메일 서버 1에서 메일 서버 2로 메일을 보낸다
3. POP3를 사용하여 메일 서버2에서 컴퓨터 2로 메일 데이터를 보낸다

> ### 랜카드에서의 데이터 전달과 처리

OSI 모델에서 각 계층 간에 데이터가 전달되고 처리되는 과정

| 계층                       | 내용                                                    |
| -------------------------- | ------------------------------------------------------- |
| 응용 계층(세션, 표현 포함) | 어플리케이션 등에서 사용하는 데이터를 송수신하는데 필요 |
| 전송 계층                  | 목적지에 데이터를 정확하게 전달하는데 필요              |
| 네트워크 계층              | 다른 네트워크에 있는 목적지에 데이터를 전달하는데 필요  |
| 데이터 링크 계층           | 랜에서 데이터를 송수신하는데 필요                       |
| 물리 계층                  | 데이터를 전기 신호로 변환하는데 필요                    |

- **컴퓨터의 데이터가 전기 신호로 변환되는 과정**

  3-way 핸드셰이크는 이미 완료되어 **연결이 확립**되었다고 생각

  1. 웹 브라우저에 URL을 입력하고 ENTER누를시 캡슐화 시작
  2. 응용계층에서 **HTTP 메세지**(GET 요청)을 보냄
  3. 전송 계층에서 **TCP 헤더**추가(세그먼트가 된다)
  4. 네트워크 계층에서 **IP 헤더**추가(IP 패킷이 된다)
  5. 데이터 링크 계층에서 **이더넷 헤더**와 **트레일러** 추가(프레임이 된다)
  6. 물리계층에서 **전기신호로 변환**되어 네트워크로 전송(랜 카드 사용)

> ### 스위치와 라우터에서의 데이터 전달과 처리

- **스위치A**
  1. 컴퓨터의 데이터가 전기신호로 변환되어 전달된다
  2. **스위치**는 **데이터링크 계층**에서 데이터를 전기 신호로 변환하여 **라우터**로 전달한다
- **라우터A**
  1. **라우터**는 **데이터링크 계층**에서 이더넷 프레임의 **목적지 MAC 주소**와 **자신의 MAC 주소**를 비교한다
  2. 주소가 같으면 역캡슐화 하여 **네트워크 계층**에 전달하고 자신의 **라우팅 테이블**과 **목적지 IP주소**를 비교한다
  3. **출발지 IP 주소**를 라우터의 **외부 IP주소**로 변경한다
  4. **데이터링크 계층**으로 전달해 라우터 B로 보내지도록 **이더넷 헤더**와 **트레일러**를 붙인 후 **물리계층**에서 전기신호로 네트워크에 전달한다
- **라우터B**
  1. 이더넷 프레임의 **목적지 MAC 주소**와 자신의 **MAC주소를 비교**, 같으면 **역캡슐화** 진행
  2. **네트워크 계층**에서 자신의 **라우팅 테이블**과 **목적지 IP 주소**를 비교
  3. **출발지 IP 주소**를 라우터 B의 내부 IP 주소로 변경
  4. **데이터링크 계층**에 전달하여 스위치B에 전달되도록 **이더넷 헤더**와 **트레일러**를 붙인후
  5. **물리계층**에서 데이터를 전기신호로 변환하여 네트워크로 전달
- **스위치B**
  1. **데이터링크 계층**에서 데이터를 처리하여 **물리계층**에서 전기신호로 변환 후 웹서버로 전달한다

> ### 웹서버에서의 데이터 전달과 처리

1. **데이터링크 계층**에서 이더넷 프레임의 **목적지 MAC 주소**와 **자신의 MAC 주소**를 비교해서 같으면 **역캡슐화** 후 **네트워크 계층**에 전달한다
2. **네트워크 계층**에서는 **목적지 IP주소**와 **웹서버의 IP주소**가 같은지 확인하고 같으면 **역캡슐화**후 **전송 계층**에 전달한다
3. **전송 계층**에서는 **목적지 포트 번호**를 확인하여 어떤 어플리케이션에 전달해야 되는지 판단하고 **역캡슐화** 후 **응용 계층**에 전달한다

</br>

---

## 무선 랜

- **장점**

  편하다

- **단점**

  속도 불안정, 연결 불안정, 해킹 위험이 유선랜에 비해 높다

무선 랜은 **무선 엑세스 포인트**와 **무선 클라이언트**(컴퓨터 or 스마트폰 등)로 구성된다

무선 엑세스 포인트와 통신하려면 **무선 랜 칩**과 **무선 랜 어댑터**가 필요하다

무선 랜 어댑터의 경우 **USB 메모리 방식**과 **컴퓨터 카드** 방식이 있다

> ### 인프라 스트럭처 와 애드혹

무선랜을 연결하는 두가지 방법이다

- **인프라 스트럭처**

  **인프라스트럭처 방식**은 **무선엑세스 포인트**(무선 공유기)를 중심으로 기기들이 접속한다

  주로 사용하는 방식이다

- **애드 혹**

  **애드 혹**은 **무선 클라이언트**끼리 직접 통신한다

> ### 무선 랜 규격

<무선 랜 규격>

| 규격         | 통신속도(최대) | 주파수 대역 | 특징                                      |
| ------------ | -------------- | ----------- | ----------------------------------------- |
| IEEE802.11ad | 6.7Gbps        | 60GHz       | 초고속통신                                |
| IEEE802.11ac | 6.9Gbps        | 5GHz        | 장애물에 강함, 고속 통신 및 전파간섭 적음 |
| IEEE802.11n  | 300Mbps        | 2.4GHz 대역 | 장애물에 강함, 전파 간섭에 약함           |
|              |                | 5GHz 대역   | 장애물에 강함, 전파 간섭에 약함           |
| IEEE802.11a  | 54Mbps         | 5GHz 대역   | 장애물에 강함, 전파 간섭에 약함           |
| IEEE802.11g  | 54Mbps         | 2.4GHz 대역 | 장애물에 강함, 전파 간섭에 약함           |
| IEEE802.11b  | 11Mbps         | 2.4GHz 대역 | 장애물에 강함, 전파 간섭에 약함           |

현재는 **11n** or **11ac**를 주로 사용한다

무선공유기가 IEEE802.11ac를 지원하더라도 무선 클라이언트가 그 규격을 지원하지 않으면 사용 불가능 하다

무선 엑세스 포인트를 **무선 공유기** 혹은 **무선 AP**라고 한다

> ### SSID의 구조

**무선 엑세스 포인트**와 **무선 클라이언트**를 연결하기 위해 쓰는 **액세스 포인트의 고유 이름**

**네트워크 이름, 인증, 암호화, 암호화 키**를 설정해 둬야 클라이언트가 자동으로 무선 엑세스 포인트에 접속 가능하다

<순서>

1. 무선 공유기 : **비컨**(무선엑세스 포인트가 주기적으로 전송하는, 자신을 알리는 신호)전송
2. 무선 클라이언트 : 같은 SSID인지 문의
3. 무선 공유기 : 같은 SSID라고 응답
4. 무선 클라이언트 와 무선공유기 서로: 인증
5. 무선 클라이언트 : 접속 요구
6. 무선 공유기 : 승인 응답

> ### 채널

무선 랜이 여러 기기를 동시에 연결할 수 있도록 **주파수 대역**을 분할한 것

공유기 여러대를 사용할 경우 **채널**이 겹치지 않게 설정해야 한다

**채널**이 겹칠 경우 전파 간섭이 생긴다

무선 엑세스 포인트가 채널을 자동으로 설정한다

