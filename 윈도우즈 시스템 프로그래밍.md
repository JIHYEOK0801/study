# 윈도우즈 시스템 프로그래밍

---

## 1. 컴퓨터 구조에 대한 첫 번째 이야기

> ### section 1.  시스템 프로그래밍의 이해와 접근

- ### 시스템 프로그래밍이란?

  **시스템 프로그램** : 컴퓨터 시스템을 동작시키는 프로그램

  **시스템 프로그래머** : 운영체제 개발자들을 가리켜 시스템 프로그래머라고 할 수 있다

  </br>

- ### 컴퓨터 시스템의 주요 구성요소

  **CPU, 캐쉬** : 컴퓨터 구조 과목

  **메인메모리, 하드디스크** : 운영체제 과목

  </br>

> ### section 2. 컴퓨터 하드웨어 구성

- ### CPU

  중앙처리장치, 연산 담당

  </br>

- ### 메인 메모리

  **RAM**이라는 저장장치로 구성

  **컴파일이 완료된 프로그램 코드가 올라가서 실행되는 영역**

  </br>

- ### 입출력 버스

  컴퓨터를 구성하는 구성요소(하드디스크, 메인 메모리, CPU 등) 사이에서 데이터를 주고 받기 위해 사용되는 경로

  종류와 역할에 따라 **어드레스 버스**, **데이터 버스**, **컨트롤 버스** 세가지로 구분된다

  </br>

> ### section 3. CPU에 대한 이해(CPU의 구성요소)

- ### ALU(Arithmetic Logic Unit)

  프로그램이 실행되는 곳, 덧셈이나 뺄셈과 같은 연산을 진행하는 주체

  ALU가 처리하는 기본적인 연산은 크게 **두가지**로 덧셈이나 뺄셈과 같은 **산술 연산**, AND나 OR와 같은 **논리 연산**

  </br>

- ### 컨트롤 유닛(control Unit)

  **ALU 자체만으로는 명령어를 해석하고 수행할 수 없다.** 

  가령 32비트 명령어로 "10011010 00011010 10011110 10010011" 이라는 명령어가 ALU로 들어가도 어떤 명령어인지 해석 불가

  따라서, **컨트롤 유닛** 은 CPU가 처리해야 할 명령어들을 해석하는 일을 한다

  CPU의 총사령관 정도로 생각

  </br>

- ### CPU 내부에 존재하는 레지스터들(Register Set)

  **레지스터 **

  컨트롤 유닛 or ALU가 필요로 하는 명령어 및 데이터들을 임시적으로 저장하기 위한 조그마한 **메모리 공간**

  CPU 내부에 **2진 데이터 저장을 위한 저장장치**

  CPU에 따라 16비트, 32비트, 64비트정도의 데이터를 저장할 수 있다

  </br>

- ### 버스 인터페이스(Bus Interface)

  CPU, 하드디스크, RAM, 사운드 카드, 그래픽카드 등이 서로 데이터를 주고 받는 매개체가 **I/O 버스**

  **버스 인터페이스**는 **/O 버스**를 이용하기 위해서 **I/O 버스의 통신 방식을 이해하는 역할**

  </br>

- ### 클럭 신호(Clock Pulse)

  CPU를 구성하는 요소는 아니지만 **CPU를 구성하는 요소에 제공되어야 하는 신호**

  클럭신호는 **타이밍을 제공**하기 위해서 필요하다

  ex) CPU의 클럭 속도 1.6Mhz

  ​		1 초당 1,600,000번의 클럭을 발생시킨다(1초에 160만번의 연산을 한다고 생각)

  클럭 속도마다 연산을 맞추는 이유는 **동기화**가 필요하기 때문

</br>

> ### section 4. 프로그램의 실행과정

- ### 프로그램의 실행 과정

  **단계 1 : 전처리기에 의한 치환작업**

  ​	#include, #define 과 같이 #으로 시작하는 지시자의 지시에 따라 소스코드를 적절히 변경하는 작업

  **단계 2 : 컴파일러에 의한 번역**

  ​	CPU에게 일을 시키기 위한 명령어를 조합해서 만든 프로그램 코드인 **어셈블리 코드**로 번역된다

  **단계3 : 어셈블러에 의한 바이너리 코드 생성**

  ​	어셈블리 코드를 CPU가 이해할 수 있는 바이너리 코드로 바꾸어 주는 프로그램이 **어셈블러**이다

  **단계 4 : 링커에 의한 연결과 결합**

  ​	프로그램 내에서 참조하는 함수나 라이브러리 들을 하나로 묶는 작업

  </br>

  이 과정이 끝나면 실행 가능한 **실행 파일**이 생성된다

  </br>

- ### CPU에 의해 실행파일이 실행되는 과정

  **단계 1 : Fetch**

  ​	메모리상 존재하는 명령어를 CPU로 가져오는 작업

  **단계 2 : Decode**

  ​	가져다 놓은 명령어를 CPU가 해석하는 단계

  ​	무슨일을 하라는 명령어인지 분석하는 단계

  **단계 3: Execution**

  ​	해석된 명령어의 명령대로 CUP가 실행되는 단계